var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,c=(e,s)=>{for(var a in s||(s={}))t.call(s,a)&&l(e,a,s[a]);if(r)for(var a of r(s))n.call(s,a)&&l(e,a,s[a]);return e},o=(e,r)=>s(e,a(r)),i=(e,s)=>{var a={};for(var l in e)t.call(e,l)&&s.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&r)for(var l of r(e))s.indexOf(l)<0&&n.call(e,l)&&(a[l]=e[l]);return a};import{j as d,c as m,P as u}from"./ui-vendor-CD6GsE3j.js";import{a as x}from"./react-vendor-tk5Uqt6k.js";import{H as h,F as p}from"./Footer-BOQRSkTU.js";import{B as j}from"./input-C59DobWj.js";import{C as f,b as g,d as y,e as v,a as N}from"./card-CFUHedji.js";import{B as b}from"./badge-BlMcokWN.js";import{c as w}from"./index-CGNqy2AH.js";import{A as S,a as k}from"./alert-BG3HNVY4.js";import{a7 as P,R as O,d as R,J as C,z as I}from"./utils-vendor-cIoDbW7Q.js";import"./separator-CXDouMpY.js";import"./auth-vendor-CP-4ZW6D.js";import"./query-vendor-D3F-YppS.js";var D="Progress",T=100,[_]=m(D),[A,F]=_(D),L=x.forwardRef((e,s)=>{const a=e,{__scopeProgress:r,value:t=null,max:n,getValueLabel:l=E}=a,m=i(a,["__scopeProgress","value","max","getValueLabel"]);!n&&0!==n||J(n)||console.error(`Invalid prop \`max\` of value \`${`${n}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const x=J(n)?n:T;null===t||U(t,x)||console.error(function(e,s){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${s}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${t}`,"Progress"));const h=U(t,x)?t:null,p=H(h)?l(h,x):void 0;return d.jsx(A,{scope:r,value:h,max:x,children:d.jsx(u.div,o(c({"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":H(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":B(h,x),"data-value":null!=h?h:void 0,"data-max":x},m),{ref:s}))})});L.displayName=D;var $="ProgressIndicator",q=x.forwardRef((e,s)=>{var a;const r=e,{__scopeProgress:t}=r,n=i(r,["__scopeProgress"]),l=F($,t);return d.jsx(u.div,o(c({"data-state":B(l.value,l.max),"data-value":null!=(a=l.value)?a:void 0,"data-max":l.max},n),{ref:s}))});function E(e,s){return`${Math.round(e/s*100)}%`}function B(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function H(e){return"number"==typeof e}function J(e){return H(e)&&!isNaN(e)&&e>0}function U(e,s){return H(e)&&!isNaN(e)&&e<=s&&e>=0}q.displayName=$;var z=L,M=q;const G=x.forwardRef((e,s)=>{var a=e,{className:r,value:t}=a,n=i(a,["className","value"]);return d.jsx(z,o(c({ref:s,className:w("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r)},n),{children:d.jsx(M,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}))});G.displayName=z.displayName;const V=x.forwardRef((e,s)=>{var a=e,{className:r}=a,t=i(a,["className"]);return d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",c({ref:s,className:w("w-full caption-bottom text-sm",r)},t))})});V.displayName="Table";const K=x.forwardRef((e,s)=>{var a=e,{className:r}=a,t=i(a,["className"]);return d.jsx("thead",c({ref:s,className:w("[&_tr]:border-b",r)},t))});K.displayName="TableHeader";const X=x.forwardRef((e,s)=>{var a=e,{className:r}=a,t=i(a,["className"]);return d.jsx("tbody",c({ref:s,className:w("[&_tr:last-child]:border-0",r)},t))});X.displayName="TableBody";x.forwardRef((e,s)=>{var a=e,{className:r}=a,t=i(a,["className"]);return d.jsx("tfoot",c({ref:s,className:w("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r)},t))}).displayName="TableFooter";const Y=x.forwardRef((e,s)=>{var a=e,{className:r}=a,t=i(a,["className"]);return d.jsx("tr",c({ref:s,className:w("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",r)},t))});Y.displayName="TableRow";const Q=x.forwardRef((e,s)=>{var a=e,{className:r}=a,t=i(a,["className"]);return d.jsx("th",c({ref:s,className:w("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r)},t))});Q.displayName="TableHead";const W=x.forwardRef((e,s)=>{var a=e,{className:r}=a,t=i(a,["className"]);return d.jsx("td",c({ref:s,className:w("p-4 align-middle [&:has([role=checkbox])]:pr-0",r)},t))});W.displayName="TableCell";x.forwardRef((e,s)=>{var a=e,{className:r}=a,t=i(a,["className"]);return d.jsx("caption",c({ref:s,className:w("mt-4 text-sm text-muted-foreground",r)},t))}).displayName="TableCaption";const Z=()=>{const[e,s]=x.useState(!1),[a,r]=x.useState(0),[t,n]=x.useState(!1),[l,c]=x.useState([]),[o,i]=x.useState(null),m=[{name:"_ga",domain:".novaqy.com",category:"Analytics",purpose:"Google Analytics tracking",retention:"2 years",thirdParty:!0,secure:!0,httpOnly:!1},{name:"session_id",domain:"novaqy.com",category:"Strictly Necessary",purpose:"User session management",retention:"Session",thirdParty:!1,secure:!0,httpOnly:!0},{name:"preferences",domain:"novaqy.com",category:"Functional",purpose:"Store user preferences",retention:"1 year",thirdParty:!1,secure:!0,httpOnly:!1},{name:"_fbp",domain:".novaqy.com",category:"Advertising",purpose:"Facebook pixel tracking",retention:"3 months",thirdParty:!0,secure:!0,httpOnly:!1}];x.useEffect(()=>{const e=localStorage.getItem("cookie-scan-date");e&&i(e);const s=localStorage.getItem("cookie-scan-results");s&&(c(JSON.parse(s)),n(!0))},[]);const u=()=>{s(!1),n(!0);const e=(new Date).toISOString();c(m),i(e),localStorage.setItem("cookie-scan-results",JSON.stringify(m)),localStorage.setItem("cookie-scan-date",e)},w=e=>{switch(e){case"Strictly Necessary":return"bg-red-100 text-red-800";case"Functional":return"bg-blue-100 text-blue-800";case"Analytics":return"bg-green-100 text-green-800";case"Advertising":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(h,{}),d.jsxs("div",{className:"container py-20 max-w-6xl mx-auto",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Cookie Scanner"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Scan and analyze cookies on our website to maintain transparency and compliance with privacy regulations."})]}),d.jsxs(f,{className:"mb-6",children:[d.jsxs(g,{children:[d.jsxs(y,{className:"flex items-center gap-2",children:[d.jsx(P,{className:"w-5 h-5"}),"Cookie Scan"]}),d.jsx(v,{children:"Perform a comprehensive scan of cookies currently set on this website."})]}),d.jsx(N,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Scan Status"}),o&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last scan: ",new Date(o).toLocaleString()]})]}),d.jsx(j,{onClick:()=>{s(!0),r(0),n(!1);const e=setInterval(()=>{r(s=>s>=100?(clearInterval(e),u(),100):s+10)},200)},disabled:e,className:"flex items-center gap-2",children:e?d.jsxs(d.Fragment,{children:[d.jsx(O,{className:"w-4 h-4 animate-spin"}),"Scanning..."]}):d.jsxs(d.Fragment,{children:[d.jsx(P,{className:"w-4 h-4"}),"Start Scan"]})})]}),e&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{children:"Scanning cookies..."}),d.jsxs("span",{children:[a,"%"]})]}),d.jsx(G,{value:a,className:"w-full"})]}),t&&d.jsxs(S,{className:"border-green-200 bg-green-50",children:[d.jsx(R,{className:"h-4 w-4 text-green-600"}),d.jsxs(k,{className:"text-green-800",children:["Scan completed successfully. Found ",l.length," cookies."]})]})]})})]}),t&&l.length>0&&d.jsxs(f,{className:"mb-6",children:[d.jsxs(g,{children:[d.jsxs(y,{className:"flex items-center justify-between",children:["Scan Results",d.jsxs(j,{variant:"outline",size:"sm",onClick:()=>{const e={scanDate:o,cookies:l,exportDate:(new Date).toISOString()},s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="cookie-scan-results.json",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)},children:[d.jsx(C,{className:"w-4 h-4 mr-2"}),"Export Results"]})]}),d.jsx(v,{children:"Detailed analysis of cookies found during the scan."})]}),d.jsx(N,{children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs(V,{children:[d.jsx(K,{children:d.jsxs(Y,{children:[d.jsx(Q,{children:"Name"}),d.jsx(Q,{children:"Domain"}),d.jsx(Q,{children:"Category"}),d.jsx(Q,{children:"Purpose"}),d.jsx(Q,{children:"Retention"}),d.jsx(Q,{children:"Third Party"}),d.jsx(Q,{children:"Security"})]})}),d.jsx(X,{children:l.map((e,s)=>d.jsxs(Y,{children:[d.jsx(W,{className:"font-mono text-sm",children:e.name}),d.jsx(W,{className:"font-mono text-sm",children:e.domain}),d.jsx(W,{children:d.jsx(b,{className:w(e.category),children:e.category})}),d.jsx(W,{className:"max-w-xs truncate",title:e.purpose,children:e.purpose}),d.jsx(W,{children:e.retention}),d.jsx(W,{children:e.thirdParty?d.jsx(b,{variant:"destructive",children:"Yes"}):d.jsx(b,{variant:"secondary",children:"No"})}),d.jsx(W,{children:d.jsxs("div",{className:"flex gap-1",children:[e.secure&&d.jsx(b,{variant:"outline",className:"text-xs",children:"Secure"}),e.httpOnly&&d.jsx(b,{variant:"outline",className:"text-xs",children:"HttpOnly"})]})})]},s))})]})})})]}),t&&l.length>0&&d.jsxs(f,{className:"mb-6",children:[d.jsxs(g,{children:[d.jsx(y,{children:"Cookie Categories Summary"}),d.jsx(v,{children:"Breakdown of cookies by category and compliance status."})]}),d.jsx(N,{children:d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:["Strictly Necessary","Functional","Analytics","Advertising"].map(e=>{const s=l.filter(s=>s.category===e),a=s.filter(e=>e.thirdParty).length;return d.jsxs("div",{className:"p-4 border rounded-lg",children:[d.jsx("h4",{className:"font-medium mb-2",children:e}),d.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[d.jsxs("p",{children:["Total: ",s.length]}),d.jsxs("p",{children:["Third Party: ",a]}),a>0&&d.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[d.jsx(I,{className:"w-3 h-3 text-yellow-500"}),d.jsx("span",{className:"text-xs text-yellow-600",children:"Requires consent"})]})]})]},e)})})})]}),d.jsxs(f,{children:[d.jsxs(g,{children:[d.jsx(y,{children:"Compliance Information"}),d.jsx(v,{children:"How we use cookie scanning results for privacy compliance."})]}),d.jsxs(N,{className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",children:"GDPR Compliance"}),d.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[d.jsx("li",{children:"• Regular scanning ensures up-to-date cookie inventory"}),d.jsx("li",{children:"• Identifies cookies requiring prior consent"}),d.jsx("li",{children:"• Supports lawful basis documentation"}),d.jsx("li",{children:"• Enables Data Protection Impact Assessments"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",children:"PIPEDA Compliance"}),d.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[d.jsx("li",{children:"• Maintains transparency about data collection"}),d.jsx("li",{children:"• Supports meaningful consent mechanisms"}),d.jsx("li",{children:"• Documents privacy management practices"}),d.jsx("li",{children:"• Enables accountability reporting"})]})]})]}),d.jsxs(S,{className:"mt-4",children:[d.jsx(I,{className:"h-4 w-4"}),d.jsx(k,{children:"This scanner provides a snapshot of cookies at scan time. Cookie usage may change based on user interactions and consent preferences."})]})]})]})]}),d.jsx(p,{})]})};export{Z as default};
