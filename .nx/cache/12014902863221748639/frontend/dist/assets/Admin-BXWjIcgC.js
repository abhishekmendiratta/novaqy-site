var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,i=(e,s)=>{for(var t in s||(s={}))l.call(s,t)&&n(e,t,s[t]);if(a)for(var t of a(s))r.call(s,t)&&n(e,t,s[t]);return e},d=(e,a)=>s(e,t(a)),c=(e,s)=>{var t={};for(var n in e)l.call(e,n)&&s.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&a)for(var n of a(e))s.indexOf(n)<0&&r.call(e,n)&&(t[n]=e[n]);return t},o=(e,s,t)=>n(e,"symbol"!=typeof s?s+"":s,t),m=(e,s,t)=>new Promise((a,l)=>{var r=e=>{try{i(t.next(e))}catch(s){l(s)}},n=e=>{try{i(t.throw(e))}catch(s){l(s)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,n);i((t=t.apply(e,s)).next())});import{p as u,j as h,q as x,r as j,t as p,T as g,s as v,O as f}from"./ui-vendor-CAfyCkep.js";import{a as y,i as N}from"./react-vendor-CU4acDdt.js";import{H as w,F as b}from"./Footer-ClmmIlI9.js";import{B as C,I as S}from"./input-BJZPTSgB.js";import{C as P,a as k,b as F,d as U,e as D}from"./card-kDPgC5Au.js";import{B as E}from"./badge-BaDuoVI_.js";import{L as I}from"./label-CNUM2fiT.js";import{S as _,a as O,b as T,c as A,d as R,T as B}from"./select-D2gUd4zy.js";import{c as L,u as z,s as M}from"./index-jEC04_G8.js";import{X as V,z as $,C as J,I as G,F as q,J as Y,w as W,K as H,N as K,v as X,O as Z,V as Q,W as ee,m as se,Y as te}from"./utils-vendor-CvOzdFGV.js";import{d as ae}from"./dataService-C55bYVtp.js";import"./separator--QGibGZ_.js";import"./auth-vendor-DvA6JlK5.js";import"./query-vendor-Co6lwUYv.js";const le=u,re=x,ne=y.forwardRef((e,s)=>{var t=e,{className:a}=t,l=c(t,["className"]);return h.jsx(f,i({ref:s,className:L("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a)},l))});ne.displayName=f.displayName;const ie=y.forwardRef((e,s)=>{var t=e,{className:a,children:l}=t,r=c(t,["className","children"]);return h.jsxs(re,{children:[h.jsx(ne,{}),h.jsxs(j,d(i({ref:s,className:L("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a)},r),{children:[l,h.jsxs(p,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[h.jsx(V,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});ie.displayName=j.displayName;const de=e=>{var s=e,{className:t}=s,a=c(s,["className"]);return h.jsx("div",i({className:L("flex flex-col space-y-1.5 text-center sm:text-left",t)},a))};de.displayName="DialogHeader";const ce=y.forwardRef((e,s)=>{var t=e,{className:a}=t,l=c(t,["className"]);return h.jsx(g,i({ref:s,className:L("text-lg font-semibold leading-none tracking-tight",a)},l))});ce.displayName=g.displayName;const oe=y.forwardRef((e,s)=>{var t=e,{className:a}=t,l=c(t,["className"]);return h.jsx(v,i({ref:s,className:L("text-sm text-muted-foreground",a)},l))});oe.displayName=v.displayName;const me=({onFileSelect:e,onFileRemove:s,currentImageUrl:t,accept:a="image/*",maxSize:l=5,className:r=""})=>{const[n,i]=y.useState(!1),[d,c]=y.useState(t||null),[o,m]=y.useState(null),u=y.useRef(null),x=y.useCallback(e=>{if(!e.type.startsWith("image/"))return m("Please select an image file"),!1;return e.size/1048576>l?(m(`File size must be less than ${l}MB`),!1):(m(null),!0)},[l]),j=y.useCallback(s=>{if(x(s)){e(s);const t=URL.createObjectURL(s);c(t)}},[e,x]),p=y.useCallback(e=>{e.preventDefault(),i(!1);const s=Array.from(e.dataTransfer.files);s.length>0&&j(s[0])},[j]),g=y.useCallback(e=>{e.preventDefault(),i(!0)},[]),v=y.useCallback(e=>{e.preventDefault(),i(!1)},[]),f=y.useCallback(e=>{const s=e.target.files;s&&s.length>0&&j(s[0])},[j]),N=y.useCallback(()=>{c(null),m(null),u.current&&(u.current.value=""),null==s||s()},[s]),w=y.useCallback(()=>{var e;null==(e=u.current)||e.click()},[]);return h.jsxs("div",{className:`space-y-4 ${r}`,children:[h.jsx(I,{htmlFor:"file-upload",children:"Upload Image"}),h.jsx(P,{className:"border-2 border-dashed transition-colors cursor-pointer "+(n?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"),onDrop:p,onDragOver:g,onDragLeave:v,onClick:w,children:h.jsx("div",{className:"p-6 text-center",children:d?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative inline-block",children:[h.jsx("img",{src:d,alt:"Preview",className:"max-w-full max-h-48 rounded-lg object-cover"}),h.jsx(C,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:e=>{e.stopPropagation(),N()},children:h.jsx(V,{className:"h-3 w-3"})})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to change image or drag and drop a new one"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-muted flex items-center justify-center",children:h.jsx($,{className:"h-6 w-6 text-muted-foreground"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:"Drag and drop an image here, or click to browse"}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Supports JPG, PNG, GIF up to ",l,"MB"]})]})]})})}),o&&h.jsx("p",{className:"text-sm text-destructive",children:o}),h.jsx(S,{ref:u,id:"file-upload",type:"file",accept:a,onChange:f,className:"hidden"})]})};class ue{static validateImage(e){return this.ALLOWED_TYPES.includes(e.type)?e.size>this.MAX_FILE_SIZE?{isValid:!1,error:"File size must be less than 5MB"}:{isValid:!0}:{isValid:!1,error:"Please select a valid image file (JPG, PNG, GIF, or WebP)"}}static fileToDataUrl(e){return m(this,null,function*(){return new Promise((s,t)=>{const a=new FileReader;a.onload=()=>s(a.result),a.onerror=()=>t(new Error("Failed to read file")),a.readAsDataURL(e)})})}static compressImage(e,s=1200,t=.8){return m(this,null,function*(){return new Promise(a=>{const l=document.createElement("canvas"),r=l.getContext("2d"),n=new Image;n.onload=()=>{let{width:i,height:d}=n;i>s&&(d=d*s/i,i=s),l.width=i,l.height=d,r.drawImage(n,0,0,i,d),l.toBlob(s=>{if(s){const t=new File([s],e.name,{type:e.type,lastModified:Date.now()});a(t)}else a(e)},e.type,t)},n.src=URL.createObjectURL(e)})})}static processImage(e){return m(this,null,function*(){try{const s=this.validateImage(e);if(!s.isValid)return{dataUrl:"",error:s.error};let t=e;e.size>1048576&&(t=yield this.compressImage(e));return{dataUrl:yield this.fileToDataUrl(t)}}catch(s){return{dataUrl:"",error:s instanceof Error?s.message:"Failed to process image"}}})}static createThumbnail(e,s=200){return m(this,null,function*(){return new Promise(t=>{const a=document.createElement("canvas"),l=a.getContext("2d"),r=new Image;r.onload=()=>{a.width=s,a.height=s;const e=r.width/r.height;let n=s,i=s;e>1?i=s/e:n=s*e;const d=(s-n)/2,c=(s-i)/2;l.drawImage(r,d,c,n,i),t(a.toDataURL("image/jpeg",.8))},r.src=URL.createObjectURL(e)})})}static getImageDimensions(e){return m(this,null,function*(){return new Promise((s,t)=>{const a=new Image;a.onload=()=>s({width:a.width,height:a.height}),a.onerror=()=>t(new Error("Failed to load image")),a.src=URL.createObjectURL(e)})})}static generateFileName(e){return`cms-image-${Date.now()}.${e.split(".").pop()||"jpg"}`}}o(ue,"MAX_FILE_SIZE",5242880),o(ue,"ALLOWED_TYPES",["image/jpeg","image/png","image/gif","image/webp"]);const he=()=>{var e;const s=N(),{toast:t}=z(),[a,l]=y.useState("dashboard"),[r,n]=y.useState([]),[c,o]=y.useState("all"),[u,x]=y.useState(!0),[j,p]=y.useState({totalCustomers:0,activePlans:0,supportTickets:0,monthlyRevenue:"$0"}),[g,v]=y.useState([]),[f,L]=y.useState(!0),[V,$]=y.useState([]),[re,ne]=y.useState([]),[he,xe]=y.useState(null),[je,pe]=y.useState(null),[ge,ve]=y.useState(!1),[fe,ye]=y.useState(!1);y.useEffect(()=>{m(null,null,function*(){const{data:e}=yield M.auth.getUser(),a=null==e?void 0:e.user;if(!a)return void s("/login");const l="".split(",").map(e=>e.trim()).filter(Boolean);if(!(a.user_metadata&&"admin"===a.user_metadata.role||a.email&&l.includes(a.email)))return t({title:"Not authorized",description:"You do not have permission to access the admin panel.",variant:"destructive"}),void s("/dashboard");x(!1)});const{data:e}=M.auth.onAuthStateChange((e,t)=>{"SIGNED_OUT"!==e&&t||s("/login")});return()=>{e.subscription.unsubscribe()}},[s,t]),y.useEffect(()=>{u||($(ae.getBlogPosts()),ne(ae.getCaseStudies()))},[u]),y.useEffect(()=>{u||m(null,null,function*(){try{L(!0);const{data:e,error:s}=yield M.from("users").select("id, created_at, user_metadata");s&&console.error("Error fetching users:",s);const{data:t,error:a}=yield M.from("payments").select("amount, status, created_at");a&&console.error("Error fetching payments:",a);const l=(null==e?void 0:e.length)||0,r=(null==e?void 0:e.filter(e=>{var s;return(null==(s=e.user_metadata)?void 0:s.plan)&&["basic","standard","premium"].includes(e.user_metadata.plan.toLowerCase())}).length)||0,n=(null==t?void 0:t.filter(e=>"completed"===e.status&&new Date(e.created_at)>=new Date((new Date).getFullYear(),(new Date).getMonth(),1)).reduce((e,s)=>e+s.amount,0))||0;p({totalCustomers:l,activePlans:r,supportTickets:0,monthlyRevenue:`$${n.toLocaleString()}`});const i=((null==e?void 0:e.sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()).slice(0,5))||[]).map(e=>{var s,t,a;return{id:e.id,name:(null==(s=e.user_metadata)?void 0:s.full_name)||(null==(t=e.user_metadata)?void 0:t.name)||"Unknown",plan:(null==(a=e.user_metadata)?void 0:a.plan)||"No Plan",status:"Active",joined:new Date(e.created_at).toLocaleDateString()}});v(i)}catch(e){console.error("Error fetching admin stats:",e),t({title:"Error",description:"Failed to load admin statistics",variant:"destructive"})}finally{L(!1)}})},[u,t]),y.useEffect(()=>{u||m(null,null,function*(){try{const{data:e,error:s}=yield M.from("payments").select("*").order("created_at",{ascending:!1});if(s){console.error("Error fetching payments:",s);const e=localStorage.getItem("novaqy_payments");e&&n(JSON.parse(e))}else n(e||[])}catch(e){console.error("Error fetching payments:",e);const s=localStorage.getItem("novaqy_payments");s&&n(JSON.parse(s))}})},[u]);const Ne=y.useCallback(()=>{xe({id:0,title:"",slug:"",excerpt:"",content:"",author:"Admin",publishedAt:(new Date).toISOString().split("T")[0],status:"draft",tags:[],imageUrl:""}),ve(!0)},[]),we=y.useCallback(e=>{xe(i({},e)),ve(!0)},[]),be=y.useCallback(e=>m(null,null,function*(){ae.saveBlogPost(e),$(ae.getBlogPosts()),ve(!1),xe(null),t({title:"Success",description:"Blog post saved successfully"})}),[t]),Ce=y.useCallback(e=>{confirm("Are you sure you want to delete this blog post?")&&(ae.deleteBlogPost(e),$(ae.getBlogPosts()),t({title:"Success",description:"Blog post deleted successfully"}))},[t]),Se=y.useCallback(()=>{pe({id:0,title:"",slug:"",excerpt:"",content:"",author:"Admin",publishedAt:(new Date).toISOString().split("T")[0],status:"draft",tags:[],imageUrl:""}),ye(!0)},[]),Pe=y.useCallback(e=>{pe(i({},e)),ye(!0)},[]),ke=y.useCallback(e=>m(null,null,function*(){ae.saveCaseStudy(e),ne(ae.getCaseStudies()),ye(!1),pe(null),t({title:"Success",description:"Case study saved successfully"})}),[t]),Fe=y.useCallback(e=>{confirm("Are you sure you want to delete this case study?")&&(ae.deleteCaseStudy(e),ne(ae.getCaseStudies()),t({title:"Success",description:"Case study deleted successfully"}))},[t]),Ue=y.useCallback(e=>{const s=[{id:`PAY-${String(r.length+1).padStart(3,"0")}`,customer_name:e.customerName,customer_email:e.customerEmail,plan:e.plan,amount:e.amount,payment_method:e.paymentMethod,agreement_signed:e.agreementSigned,status:"completed",date:(new Date).toISOString(),transaction_id:`txn_${Date.now()}`},...r];n(s),localStorage.setItem("novaqy_payments",JSON.stringify(s))},[r]);y.useEffect(()=>{window.addPaymentToAdmin=Ue},[Ue]);const De=r.filter(e=>"all"===c||e.status===c),Ee={totalRevenue:r.filter(e=>"completed"===e.status).reduce((e,s)=>e+s.amount,0),pendingPayments:r.filter(e=>"pending"===e.status).length,completedPayments:r.filter(e=>"completed"===e.status).length,totalTransactions:r.length};return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(w,{}),u?h.jsx("div",{className:"container py-20",children:h.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),h.jsx("p",{children:"Checking admin access…"})]})}):h.jsxs("div",{className:"container py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Admin Panel"}),h.jsx("p",{className:"text-muted-foreground",children:"Manage customers, content, and system settings"})]}),h.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx(P,{children:h.jsx(k,{className:"p-4",children:h.jsxs("nav",{className:"space-y-2",children:[h.jsxs(C,{variant:"dashboard"===a?"default":"ghost",className:"w-full justify-start",onClick:()=>l("dashboard"),children:[h.jsx(J,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),h.jsxs(C,{variant:"customers"===a?"default":"ghost",className:"w-full justify-start",onClick:()=>{l("customers")},children:[h.jsx(G,{className:"w-4 h-4 mr-2"}),"Customers"]}),h.jsxs(C,{variant:"content"===a?"default":"ghost",className:"w-full justify-start",onClick:()=>l("content"),children:[h.jsx(q,{className:"w-4 h-4 mr-2"}),"Content CMS"]}),h.jsxs(C,{variant:"support"===a?"default":"ghost",className:"w-full justify-start",onClick:()=>l("support"),children:[h.jsx(Y,{className:"w-4 h-4 mr-2"}),"Support"]}),h.jsxs(C,{variant:"payments"===a?"default":"ghost",className:"w-full justify-start",onClick:()=>l("payments"),children:[h.jsx(W,{className:"w-4 h-4 mr-2"}),"Payments"]})]})})})}),h.jsxs("div",{className:"lg:col-span-3 space-y-6",children:["dashboard"===a&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[h.jsx(P,{children:h.jsx(k,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Customers"}),h.jsx("p",{className:"text-2xl font-bold",children:j.totalCustomers})]}),h.jsx(G,{className:"w-8 h-8 text-primary"})]})})}),h.jsx(P,{children:h.jsx(k,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Plans"}),h.jsx("p",{className:"text-2xl font-bold",children:j.activePlans})]}),h.jsx(J,{className:"w-8 h-8 text-primary"})]})})}),h.jsx(P,{children:h.jsx(k,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Tickets"}),h.jsx("p",{className:"text-2xl font-bold",children:j.supportTickets})]}),h.jsx(Y,{className:"w-8 h-8 text-primary"})]})})}),h.jsx(P,{children:h.jsx(k,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Revenue"}),h.jsx("p",{className:"text-2xl font-bold",children:j.monthlyRevenue})]}),h.jsx(J,{className:"w-8 h-8 text-primary"})]})})})]}),h.jsxs(P,{children:[h.jsx(F,{children:h.jsx(U,{children:"Recent Customers"})}),h.jsx(k,{children:h.jsx("div",{className:"space-y-4",children:g.map(e=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:e.name}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Joined ",e.joined]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"font-medium",children:e.plan}),h.jsx(E,{variant:"Active"===e.status?"secondary":"destructive",children:e.status})]})]},e.id))})})]})]}),"content"===a&&h.jsxs(h.Fragment,{children:[h.jsxs(P,{children:[h.jsxs(F,{className:"flex flex-row items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(U,{children:"Blog Posts"}),h.jsx(D,{children:"Manage your blog content with images"})]}),h.jsxs(C,{onClick:Ne,children:[h.jsx(H,{className:"w-4 h-4 mr-2"}),"New Post"]})]}),h.jsx(k,{children:h.jsx("div",{className:"space-y-4",children:V.map(e=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[e.imageUrl&&h.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-16 h-16 object-cover rounded"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:e.title}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.publishedAt," • ",e.author]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(E,{variant:"published"===e.status?"secondary":"outline",children:e.status}),h.jsx(C,{variant:"ghost",size:"sm",onClick:()=>we(e),children:h.jsx(K,{className:"w-4 h-4"})}),h.jsx(C,{variant:"ghost",size:"sm",onClick:()=>Ce(e.id),children:h.jsx(X,{className:"w-4 h-4"})})]})]},e.id))})})]}),h.jsxs(P,{children:[h.jsxs(F,{className:"flex flex-row items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(U,{children:"Case Studies"}),h.jsx(D,{children:"Manage your case studies with images"})]}),h.jsxs(C,{onClick:Se,children:[h.jsx(H,{className:"w-4 h-4 mr-2"}),"New Case Study"]})]}),h.jsx(k,{children:h.jsx("div",{className:"space-y-4",children:re.map(e=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[e.imageUrl&&h.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-16 h-16 object-cover rounded"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:e.title}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.publishedAt," • ",e.author]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(E,{variant:"published"===e.status?"secondary":"outline",children:e.status}),h.jsx(C,{variant:"ghost",size:"sm",onClick:()=>Pe(e),children:h.jsx(K,{className:"w-4 h-4"})}),h.jsx(C,{variant:"ghost",size:"sm",onClick:()=>Fe(e.id),children:h.jsx(X,{className:"w-4 h-4"})})]})]},e.id))})})]}),h.jsxs(P,{children:[h.jsxs(F,{children:[h.jsx(U,{children:"Content Management"}),h.jsx(D,{children:"Import and export content data"})]}),h.jsxs(k,{className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsxs(C,{variant:"outline",children:[h.jsx(H,{className:"w-4 h-4 mr-2"}),"Import JSON"]}),h.jsxs(C,{variant:"outline",children:[h.jsx(q,{className:"w-4 h-4 mr-2"}),"Export All Content"]})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Content is stored locally in /data/*.json files. Use import/export for backup and migration."})]})]})]}),"customers"===a&&h.jsxs(P,{children:[h.jsxs(F,{children:[h.jsx(U,{children:"Customer Management"}),h.jsx(D,{children:"View and manage customer accounts"})]}),h.jsx(k,{children:h.jsx("div",{className:"space-y-4",children:g.map(e=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:e.name}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.plan," Plan • Joined ",e.joined]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(E,{variant:"Active"===e.status?"secondary":"destructive",children:e.status}),h.jsx(C,{variant:"ghost",size:"sm",children:"View Details"})]})]},e.id))})})]}),"settings"===a&&h.jsxs(P,{children:[h.jsxs(F,{children:[h.jsx(U,{children:"System Settings"}),h.jsx(D,{children:"Configure system preferences and integrations"})]}),h.jsxs(k,{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"font-medium",children:"Payment Integration"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment providers are currently STUBBED. Configure Stripe or Razorpay for production."}),h.jsx(C,{variant:"outline",children:"Configure Payment Provider"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"font-medium",children:"Email Settings"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Support email: support@novaqy.example (placeholder)"}),h.jsx(C,{variant:"outline",children:"Update Email Configuration"})]})]})]}),"payments"===a&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[h.jsx(P,{children:h.jsx(k,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-bold",children:["$",Ee.totalRevenue.toLocaleString()]})]}),h.jsx(Z,{className:"w-8 h-8 text-green-600"})]})})}),h.jsx(P,{children:h.jsx(k,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Payments"}),h.jsx("p",{className:"text-2xl font-bold",children:Ee.completedPayments})]}),h.jsx(W,{className:"w-8 h-8 text-blue-600"})]})})}),h.jsx(P,{children:h.jsx(k,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Payments"}),h.jsx("p",{className:"text-2xl font-bold",children:Ee.pendingPayments})]}),h.jsx(Q,{className:"w-8 h-8 text-orange-600"})]})})}),h.jsx(P,{children:h.jsx(k,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),h.jsx("p",{className:"text-2xl font-bold",children:Ee.totalTransactions})]}),h.jsx(J,{className:"w-8 h-8 text-purple-600"})]})})})]}),h.jsxs(P,{children:[h.jsxs(F,{children:[h.jsxs(U,{className:"flex items-center gap-2",children:[h.jsx(ee,{className:"w-5 h-5"}),"Payment Transactions"]}),h.jsx(D,{children:"View and manage all payment transactions"})]}),h.jsxs(k,{children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx(I,{htmlFor:"status-filter",children:"Filter by Status:"}),h.jsxs(_,{value:c,onValueChange:o,children:[h.jsx(O,{className:"w-48",children:h.jsx(T,{})}),h.jsxs(A,{children:[h.jsx(R,{value:"all",children:"All Payments"}),h.jsx(R,{value:"completed",children:"Completed"}),h.jsx(R,{value:"pending",children:"Pending"}),h.jsx(R,{value:"failed",children:"Failed"})]})]})]}),h.jsx("div",{className:"space-y-4",children:De.length>0?De.map(e=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:e.customer_name}),h.jsx("div",{className:"text-sm text-muted-foreground",children:e.customer_email})]}),h.jsxs("div",{className:"hidden md:block",children:[h.jsx("div",{className:"font-medium",children:e.plan}),h.jsx("div",{className:"text-sm text-muted-foreground",children:e.payment_method})]})]}),h.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[h.jsx(E,{variant:"completed"===e.status?"secondary":"pending"===e.status?"outline":"destructive",children:e.status}),h.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(e.date).toLocaleDateString()}),e.agreement_signed&&h.jsx(E,{variant:"secondary",className:"text-xs",children:"Agreement Signed"})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold",children:["$",e.amount]}),h.jsx("div",{className:"text-sm text-muted-foreground",children:e.id}),h.jsxs(C,{variant:"ghost",size:"sm",className:"mt-1",children:[h.jsx(se,{className:"w-4 h-4 mr-1"}),"Details"]})]})]},e.id)):h.jsxs("div",{className:"text-center py-8",children:[h.jsx(W,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No payments found matching the selected filter."})]})})]})]})]})]})]})]}),h.jsx(le,{open:ge,onOpenChange:ve,children:h.jsxs(ie,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsxs(de,{children:[h.jsx(ce,{children:(null==he?void 0:he.id)?"Edit Blog Post":"Create New Blog Post"}),h.jsx(oe,{children:(null==he?void 0:he.id)?"Update your blog post content and image":"Create a new blog post with an image"})]}),he&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(I,{htmlFor:"post-title",children:"Title"}),h.jsx(S,{id:"post-title",value:he.title,onChange:e=>xe(d(i({},he),{title:e.target.value})),placeholder:"Enter blog post title"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"post-slug",children:"Slug"}),h.jsx(S,{id:"post-slug",value:he.slug,onChange:e=>xe(d(i({},he),{slug:e.target.value})),placeholder:"url-friendly-slug"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"post-author",children:"Author"}),h.jsx(S,{id:"post-author",value:he.author,onChange:e=>xe(d(i({},he),{author:e.target.value})),placeholder:"Author name"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"post-status",children:"Status"}),h.jsxs(_,{value:he.status,onValueChange:e=>xe(d(i({},he),{status:e})),children:[h.jsx(O,{children:h.jsx(T,{})}),h.jsxs(A,{children:[h.jsx(R,{value:"draft",children:"Draft"}),h.jsx(R,{value:"published",children:"Published"})]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(me,{onFileSelect:e=>m(null,null,function*(){const s=yield ue.processImage(e);s.dataUrl?xe(d(i({},he),{imageUrl:s.dataUrl})):s.error&&t({title:"Upload Error",description:s.error,variant:"destructive"})}),onFileRemove:()=>xe(d(i({},he),{imageUrl:""})),currentImageUrl:he.imageUrl}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"post-tags",children:"Tags (comma-separated)"}),h.jsx(S,{id:"post-tags",value:he.tags.join(", "),onChange:e=>xe(d(i({},he),{tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})),placeholder:"tech, tutorial, guide"})]})]})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"post-excerpt",children:"Excerpt"}),h.jsx(B,{id:"post-excerpt",value:he.excerpt,onChange:e=>xe(d(i({},he),{excerpt:e.target.value})),placeholder:"Brief description of the blog post",rows:3})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"post-content",children:"Content"}),h.jsx(B,{id:"post-content",value:he.content,onChange:e=>xe(d(i({},he),{content:e.target.value})),placeholder:"Full blog post content (supports Markdown)",rows:10})]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(C,{variant:"outline",onClick:()=>{ve(!1),xe(null)},children:"Cancel"}),h.jsxs(C,{onClick:()=>be(he),children:[h.jsx(te,{className:"w-4 h-4 mr-2"}),"Save Post"]})]})]})]})}),h.jsx(le,{open:fe,onOpenChange:ye,children:h.jsxs(ie,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsxs(de,{children:[h.jsx(ce,{children:(null==je?void 0:je.id)?"Edit Case Study":"Create New Case Study"}),h.jsx(oe,{children:(null==je?void 0:je.id)?"Update your case study content and image":"Create a new case study with an image"})]}),je&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-title",children:"Title"}),h.jsx(S,{id:"study-title",value:je.title,onChange:e=>pe(d(i({},je),{title:e.target.value})),placeholder:"Enter case study title"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-slug",children:"Slug"}),h.jsx(S,{id:"study-slug",value:je.slug,onChange:e=>pe(d(i({},je),{slug:e.target.value})),placeholder:"url-friendly-slug"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-author",children:"Author"}),h.jsx(S,{id:"study-author",value:je.author,onChange:e=>pe(d(i({},je),{author:e.target.value})),placeholder:"Author name"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-client",children:"Client"}),h.jsx(S,{id:"study-client",value:je.client||"",onChange:e=>pe(d(i({},je),{client:e.target.value})),placeholder:"Client name"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-industry",children:"Industry"}),h.jsx(S,{id:"study-industry",value:je.industry||"",onChange:e=>pe(d(i({},je),{industry:e.target.value})),placeholder:"Industry sector"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-status",children:"Status"}),h.jsxs(_,{value:je.status,onValueChange:e=>pe(d(i({},je),{status:e})),children:[h.jsx(O,{children:h.jsx(T,{})}),h.jsxs(A,{children:[h.jsx(R,{value:"draft",children:"Draft"}),h.jsx(R,{value:"published",children:"Published"})]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(me,{onFileSelect:e=>m(null,null,function*(){const s=yield ue.processImage(e);s.dataUrl?pe(d(i({},je),{imageUrl:s.dataUrl})):s.error&&t({title:"Upload Error",description:s.error,variant:"destructive"})}),onFileRemove:()=>pe(d(i({},je),{imageUrl:""})),currentImageUrl:je.imageUrl}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-tags",children:"Tags (comma-separated)"}),h.jsx(S,{id:"study-tags",value:je.tags.join(", "),onChange:e=>pe(d(i({},je),{tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})),placeholder:"success, technology, implementation"})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-results",children:"Results (one per line)"}),h.jsx(B,{id:"study-results",value:(null==(e=je.results)?void 0:e.join("\n"))||"",onChange:e=>pe(d(i({},je),{results:e.target.value.split("\n").filter(e=>e.trim())})),placeholder:"Key results and outcomes",rows:4})]})]})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-excerpt",children:"Excerpt"}),h.jsx(B,{id:"study-excerpt",value:je.excerpt,onChange:e=>pe(d(i({},je),{excerpt:e.target.value})),placeholder:"Brief description of the case study",rows:3})]}),h.jsxs("div",{children:[h.jsx(I,{htmlFor:"study-content",children:"Content"}),h.jsx(B,{id:"study-content",value:je.content,onChange:e=>pe(d(i({},je),{content:e.target.value})),placeholder:"Full case study content (supports Markdown)",rows:10})]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(C,{variant:"outline",onClick:()=>{ye(!1),pe(null)},children:"Cancel"}),h.jsxs(C,{onClick:()=>ke(je),children:[h.jsx(te,{className:"w-4 h-4 mr-2"}),"Save Case Study"]})]})]})]})}),h.jsx(b,{})]})};export{he as default};
