var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,o=(e,s)=>{for(var a in s||(s={}))t.call(s,a)&&l(e,a,s[a]);if(r)for(var a of r(s))i.call(s,a)&&l(e,a,s[a]);return e},c=(e,r)=>s(e,a(r)),d=(e,s,a)=>new Promise((r,t)=>{var i=e=>{try{o(a.next(e))}catch(s){t(s)}},l=e=>{try{o(a.throw(e))}catch(s){t(s)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,l);o((a=a.apply(e,s)).next())});import{j as n}from"./ui-vendor-5WlL74oN.js";import{a as m,k as h,L as p}from"./react-vendor-tk5Uqt6k.js";import{B as u,I as x}from"./input-C5A1MEAn.js";import{L as v}from"./label-Cbk3WBtk.js";import{C as j,b as g,d as f,e as N,a as y}from"./card-D1v2Sc5T.js";import{S as w}from"./separator-oPBfcbFj.js";import{C as b}from"./checkbox-COmgq4Ol.js";import{u as P,s as C,a as k}from"./index-BJ0l41ru.js";import{E as z,m as q}from"./utils-vendor-Ur4cPcm-.js";import"./auth-vendor-CP-4ZW6D.js";import"./query-vendor-CWl5S8HH.js";const S=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&e.length<=254,A=e=>{const s=e.replace(/[\s\-().]/g,"");return/^[+]?[1-9][\d]{0,15}$/.test(s)&&s.length>=10&&s.length<=15},F=e=>/^\d{5}(-\d{4})?$/.test(e),T=()=>{const[e,s]=m.useState(!1),[a,r]=m.useState(!1),[t,i]=m.useState(!1),[l,T]=m.useState({}),[_,O]=m.useState(null),{toast:M}=P(),I=h(),[$,H]=m.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",address:"",city:"",state:"",zipCode:"",agreeToTerms:!1,agreeToPrivacy:!1}),Y=e=>d(null,null,function*(){try{i(!0);const{error:s}=yield C.auth.signInWithOAuth({provider:e,options:{redirectTo:`${window.location.origin}/dashboard`}});if(s)throw s;yield k.trackActivity("social_auth_attempt",{provider:e,method:"signup"})}catch(s){console.error(`${e} auth error:`,s),M({title:"Authentication failed",description:`Failed to sign up with ${e}. Please try again.`,variant:"destructive"})}finally{i(!1)}}),B=(e,s)=>{if(H(a=>c(o({},a),{[e]:s})),"email"===e&&(s&&!S(s)?T(e=>c(o({},e),{email:"Please enter a valid email address"})):T(e=>c(o({},e),{email:""}))),"phone"===e&&(s&&!A(s)?T(e=>c(o({},e),{phone:"Please enter a valid phone number"})):T(e=>c(o({},e),{phone:""}))),"zipCode"===e&&(s&&!F(s)?T(e=>c(o({},e),{zipCode:"Please enter a valid ZIP code (e.g., 12345 or 12345-6789)"})):T(e=>c(o({},e),{zipCode:""}))),"password"===e){const e=(e=>{let s=0;const a=[];e.length>=8?s+=1:a.push("Use at least 8 characters"),/[A-Z]/.test(e)?s+=1:a.push("Add uppercase letter"),/[a-z]/.test(e)?s+=1:a.push("Add lowercase letter"),/\d/.test(e)?s+=1:a.push("Add number"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?/]/.test(e)?s+=1:a.push("Add special character"),e.length>=12&&(s+=1);const r=[{score:0,feedback:"Very weak",color:"text-red-500"},{score:2,feedback:"Weak",color:"text-orange-500"},{score:4,feedback:"Fair",color:"text-yellow-500"},{score:5,feedback:"Good",color:"text-blue-500"},{score:6,feedback:"Strong",color:"text-green-500"}],t=r[Math.min(s,r.length-1)];return{score:s,feedback:a.length>0?a.join(", "):t.feedback,color:t.color}})(s);O(e),s&&e.score<3?T(s=>c(o({},s),{password:"Password is too weak. "+e.feedback})):T(e=>c(o({},e),{password:""}))}"confirmPassword"===e&&(s&&s!==$.password?T(e=>c(o({},e),{confirmPassword:"Passwords do not match"})):T(e=>c(o({},e),{confirmPassword:""})))};return n.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md space-y-6",children:[n.jsx("div",{className:"text-center",children:n.jsxs(p,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[n.jsx("img",{src:"/logo.png",alt:"Novaqy logo",className:"h-12 w-auto object-contain",loading:"eager",decoding:"async"}),n.jsx("span",{className:"text-2xl font-bold",children:"Novaqy"})]})}),n.jsxs(j,{children:[n.jsxs(g,{className:"text-center",children:[n.jsx(f,{className:"text-2xl",children:"Create Your Account"}),n.jsx(N,{children:"Join Novaqy for professional tech support services"})]}),n.jsxs(y,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs(u,{variant:"outline",className:"w-full",type:"button",onClick:()=>Y("google"),disabled:t,children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]}),n.jsxs(u,{variant:"outline",className:"w-full",type:"button",onClick:()=>Y("facebook"),disabled:t,children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Sign up with Facebook"]}),n.jsxs(u,{variant:"outline",className:"w-full",type:"button",onClick:()=>Y("apple"),disabled:t,children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})}),"Sign up with Apple"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(w,{}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("span",{className:"bg-background px-4 text-sm text-muted-foreground",children:"OR"})})]}),n.jsxs("form",{onSubmit:e=>d(null,null,function*(){e.preventDefault();const s={};if($.firstName.trim()||(s.firstName="First name is required"),$.lastName.trim()||(s.lastName="Last name is required"),$.email?S($.email)||(s.email="Please enter a valid email address"):s.email="Email is required",$.phone?A($.phone)||(s.phone="Please enter a valid phone number"):s.phone="Phone number is required",$.address.trim()||(s.address="Address is required"),$.city.trim()||(s.city="City is required"),$.state.trim()||(s.state="State is required"),$.zipCode?F($.zipCode)||(s.zipCode="Please enter a valid ZIP code"):s.zipCode="ZIP code is required",$.password?_&&_.score<3&&(s.password="Password is too weak. "+_.feedback):s.password="Password is required",$.confirmPassword?$.password!==$.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",$.agreeToTerms||(s.terms="You must agree to the Terms of Service"),$.agreeToPrivacy||(s.privacy="You must agree to the Privacy Policy"),T(s),Object.keys(s).length>0)M({title:"Please correct the errors",description:"Some fields have validation errors. Please check and try again.",variant:"destructive"});else{i(!0);try{const{data:e,error:s}=yield C.auth.signUp({email:$.email,password:$.password,options:{data:{first_name:$.firstName,last_name:$.lastName,phone:$.phone,address:$.address,city:$.city,state:$.state,zip_code:$.zipCode}}});if(s)throw s;if(e.user){if(!e.user.email_confirmed_at)return M({title:"Account created successfully!",description:"Please check your email and click the verification link to complete your registration. Don't forget to check your spam folder!",duration:8e3}),void(yield k.trackActivity("email_verification_pending",{email:$.email,registration_method:"email"}));yield k.trackUserRegistration({email:$.email,first_name:$.firstName,last_name:$.lastName,registration_method:"email"}),M({title:"Account created successfully!",description:"Welcome to Novaqy! You are now logged in."}),I("/dashboard")}else M({title:"Account created successfully!",description:"Please check your email and click the verification link to complete your registration."})}catch(a){console.error("Signup error:",a),M({title:"Signup failed",description:a instanceof Error?a.message:"An error occurred during signup. Please try again.",variant:"destructive"})}finally{i(!1)}}}),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"firstName",children:"First Name"}),n.jsx(x,{id:"firstName",type:"text",value:$.firstName,onChange:e=>B("firstName",e.target.value),placeholder:"John",required:!0,className:l.firstName?"border-red-500":""}),l.firstName&&n.jsx("p",{className:"text-sm text-red-500",children:l.firstName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"lastName",children:"Last Name"}),n.jsx(x,{id:"lastName",type:"text",value:$.lastName,onChange:e=>B("lastName",e.target.value),placeholder:"Doe",required:!0,className:l.lastName?"border-red-500":""}),l.lastName&&n.jsx("p",{className:"text-sm text-red-500",children:l.lastName})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"email",children:"Email Address"}),n.jsx(x,{id:"email",type:"email",value:$.email,onChange:e=>B("email",e.target.value),placeholder:"john.doe@example.com",required:!0,className:l.email?"border-red-500":""}),l.email&&n.jsx("p",{className:"text-sm text-red-500",children:l.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"phone",children:"Phone Number"}),n.jsx(x,{id:"phone",type:"tel",value:$.phone,onChange:e=>B("phone",e.target.value),placeholder:"(123) 456-7890",required:!0,className:l.phone?"border-red-500":""}),l.phone&&n.jsx("p",{className:"text-sm text-red-500",children:l.phone})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"address",children:"Street Address"}),n.jsx(x,{id:"address",value:$.address,onChange:e=>B("address",e.target.value),placeholder:"123 Main St",required:!0,className:l.address?"border-red-500":""}),l.address&&n.jsx("p",{className:"text-sm text-red-500",children:l.address})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"city",children:"City"}),n.jsx(x,{id:"city",value:$.city,onChange:e=>B("city",e.target.value),placeholder:"New York",required:!0,className:l.city?"border-red-500":""}),l.city&&n.jsx("p",{className:"text-sm text-red-500",children:l.city})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"state",children:"State"}),n.jsx(x,{id:"state",value:$.state,onChange:e=>B("state",e.target.value),placeholder:"NY",required:!0,className:l.state?"border-red-500":""}),l.state&&n.jsx("p",{className:"text-sm text-red-500",children:l.state})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"zipCode",children:"ZIP Code"}),n.jsx(x,{id:"zipCode",value:$.zipCode,onChange:e=>B("zipCode",e.target.value),placeholder:"10001",required:!0,className:l.zipCode?"border-red-500":""}),l.zipCode&&n.jsx("p",{className:"text-sm text-red-500",children:l.zipCode})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(x,{id:"password",type:e?"text":"password",value:$.password,onChange:e=>B("password",e.target.value),placeholder:"Create a strong password",required:!0,className:l.password?"border-red-500":""}),n.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>s(!e),children:e?n.jsx(z,{className:"h-4 w-4"}):n.jsx(q,{className:"h-4 w-4"})})]}),_&&$.password&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(_.score<=2?"bg-red-500 w-1/3":_.score<=4?"bg-yellow-500 w-2/3":_.score<=5?"bg-blue-500 w-4/5":"bg-green-500 w-full")})}),n.jsx("span",{className:`text-sm ${_.color}`,children:_.feedback})]}),l.password&&n.jsx("p",{className:"text-sm text-red-500",children:l.password})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(v,{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(x,{id:"confirmPassword",type:a?"text":"password",value:$.confirmPassword,onChange:e=>B("confirmPassword",e.target.value),placeholder:"Confirm your password",required:!0,className:l.confirmPassword?"border-red-500":""}),n.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>r(!a),children:a?n.jsx(z,{className:"h-4 w-4"}):n.jsx(q,{className:"h-4 w-4"})})]}),l.confirmPassword&&n.jsx("p",{className:"text-sm text-red-500",children:l.confirmPassword})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(b,{id:"terms",checked:$.agreeToTerms,onCheckedChange:e=>H(s=>c(o({},s),{agreeToTerms:e})),className:l.terms?"border-red-500":""}),n.jsxs(v,{htmlFor:"terms",className:"text-sm leading-relaxed",children:["I agree to the"," ",n.jsx(p,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})]})]}),l.terms&&n.jsx("p",{className:"text-sm text-red-500 ml-6",children:l.terms}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(b,{id:"privacy",checked:$.agreeToPrivacy,onCheckedChange:e=>H(s=>c(o({},s),{agreeToPrivacy:e})),className:l.privacy?"border-red-500":""}),n.jsxs(v,{htmlFor:"privacy",className:"text-sm leading-relaxed",children:["I agree to the"," ",n.jsx(p,{to:"/cookies",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),l.privacy&&n.jsx("p",{className:"text-sm text-red-500 ml-6",children:l.privacy})]}),n.jsx(u,{type:"submit",className:"w-full",disabled:t,children:t?"Creating Account...":"Create Account"})]}),n.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",n.jsx(p,{to:"/login",className:"text-primary hover:underline font-medium",children:"Log in"})]})]})]}),n.jsx("div",{className:"text-center text-xs text-muted-foreground",children:n.jsxs("p",{children:["By creating an account, you agree to our"," ",n.jsx(p,{to:"/terms",className:"hover:underline",children:"Terms of Service"})," ","and"," ",n.jsx(p,{to:"/cookies",className:"hover:underline",children:"Privacy Policy"})]})})]})})};export{T as default};
