var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,l=(e,s)=>{for(var a in s||(s={}))t.call(s,a)&&o(e,a,s[a]);if(r)for(var a of r(s))i.call(s,a)&&o(e,a,s[a]);return e},d=(e,r)=>s(e,a(r));import{j as c}from"./ui-vendor-1ILoUzQc.js";import{a as n,k as m,L as h}from"./react-vendor-tk5Uqt6k.js";import{I as p,B as x}from"./input-BIyE-_9q.js";import{L as u}from"./label-DzAD6Bgn.js";import{C as v,b as j,d as g,e as N,a as f}from"./card-CzhgRBNg.js";import{C as y}from"./checkbox-BKgIU45j.js";import{a as w,s as b,b as P}from"./index-BqVvBisL.js";import{E as C,l as k}from"./utils-vendor-Cta_gFyS.js";import"./auth-vendor-CP-4ZW6D.js";import"./query-vendor-BmgDZf4n.js";const q=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&e.length<=254,z=e=>{const s=e.replace(/[\s\-().]/g,"");return/^[+]?[1-9][\d]{0,15}$/.test(s)&&s.length>=10&&s.length<=15},S=e=>/^\d{5}(-\d{4})?$/.test(e),A=()=>{const[e,s]=n.useState(!1),[a,r]=n.useState(!1),[t,i]=n.useState(!1),[o,A]=n.useState({}),[T,F]=n.useState(null),{toast:_}=w(),O=m(),[I,$]=n.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",address:"",city:"",state:"",zipCode:"",agreeToTerms:!1,agreeToPrivacy:!1}),L=(e,s)=>{if($(a=>d(l({},a),{[e]:s})),"email"===e&&(s&&!q(s)?A(e=>d(l({},e),{email:"Please enter a valid email address"})):A(e=>d(l({},e),{email:""}))),"phone"===e&&(s&&!z(s)?A(e=>d(l({},e),{phone:"Please enter a valid phone number"})):A(e=>d(l({},e),{phone:""}))),"zipCode"===e&&(s&&!S(s)?A(e=>d(l({},e),{zipCode:"Please enter a valid ZIP code (e.g., 12345 or 12345-6789)"})):A(e=>d(l({},e),{zipCode:""}))),"password"===e){const e=(e=>{let s=0;const a=[];e.length>=8?s+=1:a.push("Use at least 8 characters"),/[A-Z]/.test(e)?s+=1:a.push("Add uppercase letter"),/[a-z]/.test(e)?s+=1:a.push("Add lowercase letter"),/\d/.test(e)?s+=1:a.push("Add number"),/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>?/]/.test(e)?s+=1:a.push("Add special character"),e.length>=12&&(s+=1);const r=[{score:0,feedback:"Very weak",color:"text-red-500"},{score:2,feedback:"Weak",color:"text-orange-500"},{score:4,feedback:"Fair",color:"text-yellow-500"},{score:5,feedback:"Good",color:"text-blue-500"},{score:6,feedback:"Strong",color:"text-green-500"}],t=r[Math.min(s,r.length-1)];return{score:s,feedback:a.length>0?a.join(", "):t.feedback,color:t.color}})(s);F(e),s&&e.score<3?A(s=>d(l({},s),{password:`Password is too weak. ${e.feedback}`})):A(e=>d(l({},e),{password:""}))}"confirmPassword"===e&&(s&&s!==I.password?A(e=>d(l({},e),{confirmPassword:"Passwords do not match"})):A(e=>d(l({},e),{confirmPassword:""})))};return c.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md space-y-6",children:[c.jsx("div",{className:"text-center",children:c.jsxs(h,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[c.jsx("img",{src:"/logo.png",alt:"Novaqy logo",className:"h-12 w-auto object-contain",loading:"eager",decoding:"async"}),c.jsx("span",{className:"text-2xl font-bold",children:"Novaqy"})]})}),c.jsxs(v,{children:[c.jsxs(j,{className:"text-center",children:[c.jsx(g,{className:"text-2xl",children:"Create Your Account"}),c.jsx(N,{children:"Join Novaqy for professional Support Services"})]}),c.jsxs(f,{className:"space-y-6",children:[c.jsxs("form",{onSubmit:e=>{return s=null,a=null,r=function*(){e.preventDefault();const s={};if(I.firstName.trim()||(s.firstName="First name is required"),I.lastName.trim()||(s.lastName="Last name is required"),I.email?q(I.email)||(s.email="Please enter a valid email address"):s.email="Email is required",I.phone?z(I.phone)||(s.phone="Please enter a valid phone number"):s.phone="Phone number is required",I.address.trim()||(s.address="Address is required"),I.city.trim()||(s.city="City is required"),I.state.trim()||(s.state="State is required"),I.zipCode?S(I.zipCode)||(s.zipCode="Please enter a valid ZIP code"):s.zipCode="ZIP code is required",I.password?T&&T.score<3&&(s.password=`Password is too weak. ${T.feedback}`):s.password="Password is required",I.confirmPassword?I.password!==I.confirmPassword&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",I.agreeToTerms||(s.terms="You must agree to the Terms of Service"),I.agreeToPrivacy||(s.privacy="You must agree to the Privacy Policy"),A(s),Object.keys(s).length>0)_({title:"Please correct the errors",description:"Some fields have validation errors. Please check and try again.",variant:"destructive"});else if("abhishekcooldad@gmail.com"===I.email&&"Rashika@1997"===I.password){i(!0);try{const{data:e,error:s}=yield b.auth.signUp({email:I.email,password:I.password,options:{data:{first_name:I.firstName,last_name:I.lastName,phone:I.phone,address:I.address,city:I.city,state:I.state,zip_code:I.zipCode}}});if(s)throw s;if(e.user){if(!e.user.email_confirmed_at)return _({title:"Account created successfully!",description:"Please check your email and click the verification link to complete your registration. Don't forget to check your spam folder!",duration:8e3}),void(yield P.trackActivity("email_verification_pending",{email:I.email,registration_method:"email"}));yield P.trackUserRegistration({email:I.email,first_name:I.firstName,last_name:I.lastName,registration_method:"email"}),_({title:"Account created successfully!",description:"Welcome to Novaqy! You are now logged in."}),O("/dashboard")}else _({title:"Account created successfully!",description:"Please check your email and click the verification link to complete your registration."})}catch(a){console.error("Signup error:",a),_({title:"Signup failed",description:a instanceof Error?a.message:"An error occurred during signup. Please try again.",variant:"destructive"})}finally{i(!1)}}else _({title:"Access Restricted",description:"This system is only available for authorized administrators.",variant:"destructive"})},new Promise((t,i)=>{var o=s=>{try{d(r.next(s))}catch(e){i(e)}},l=s=>{try{d(r.throw(s))}catch(e){i(e)}},d=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,l);d((r=r.apply(s,a)).next())});var s,a,r},className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"firstName",children:"First Name"}),c.jsx(p,{id:"firstName",type:"text",value:I.firstName,onChange:e=>L("firstName",e.target.value),placeholder:"John",required:!0,className:o.firstName?"border-red-500":""}),o.firstName&&c.jsx("p",{className:"text-sm text-red-500",children:o.firstName})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"lastName",children:"Last Name"}),c.jsx(p,{id:"lastName",type:"text",value:I.lastName,onChange:e=>L("lastName",e.target.value),placeholder:"Doe",required:!0,className:o.lastName?"border-red-500":""}),o.lastName&&c.jsx("p",{className:"text-sm text-red-500",children:o.lastName})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"email",children:"Email Address"}),c.jsx(p,{id:"email",type:"email",value:I.email,onChange:e=>L("email",e.target.value),placeholder:"john.doe@example.com",required:!0,className:o.email?"border-red-500":""}),o.email&&c.jsx("p",{className:"text-sm text-red-500",children:o.email})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"phone",children:"Phone Number"}),c.jsx(p,{id:"phone",type:"tel",value:I.phone,onChange:e=>L("phone",e.target.value),placeholder:"(123) 456-7890",required:!0,className:o.phone?"border-red-500":""}),o.phone&&c.jsx("p",{className:"text-sm text-red-500",children:o.phone})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"address",children:"Street Address"}),c.jsx(p,{id:"address",value:I.address,onChange:e=>L("address",e.target.value),placeholder:"123 Main St",required:!0,className:o.address?"border-red-500":""}),o.address&&c.jsx("p",{className:"text-sm text-red-500",children:o.address})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"city",children:"City"}),c.jsx(p,{id:"city",value:I.city,onChange:e=>L("city",e.target.value),placeholder:"New York",required:!0,className:o.city?"border-red-500":""}),o.city&&c.jsx("p",{className:"text-sm text-red-500",children:o.city})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"state",children:"State"}),c.jsx(p,{id:"state",value:I.state,onChange:e=>L("state",e.target.value),placeholder:"NY",required:!0,className:o.state?"border-red-500":""}),o.state&&c.jsx("p",{className:"text-sm text-red-500",children:o.state})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"zipCode",children:"ZIP Code"}),c.jsx(p,{id:"zipCode",value:I.zipCode,onChange:e=>L("zipCode",e.target.value),placeholder:"10001",required:!0,className:o.zipCode?"border-red-500":""}),o.zipCode&&c.jsx("p",{className:"text-sm text-red-500",children:o.zipCode})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(p,{id:"password",type:e?"text":"password",value:I.password,onChange:e=>L("password",e.target.value),placeholder:"Create a strong password",required:!0,className:o.password?"border-red-500":""}),c.jsx(x,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>s(!e),children:e?c.jsx(C,{className:"h-4 w-4"}):c.jsx(k,{className:"h-4 w-4"})})]}),T&&I.password&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(T.score<=2?"bg-red-500 w-1/3":T.score<=4?"bg-yellow-500 w-2/3":T.score<=5?"bg-blue-500 w-4/5":"bg-green-500 w-full")})}),c.jsx("span",{className:`text-sm ${T.color}`,children:T.feedback})]}),o.password&&c.jsx("p",{className:"text-sm text-red-500",children:o.password})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(u,{htmlFor:"confirmPassword",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(p,{id:"confirmPassword",type:a?"text":"password",value:I.confirmPassword,onChange:e=>L("confirmPassword",e.target.value),placeholder:"Confirm your password",required:!0,className:o.confirmPassword?"border-red-500":""}),c.jsx(x,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>r(!a),children:a?c.jsx(C,{className:"h-4 w-4"}):c.jsx(k,{className:"h-4 w-4"})})]}),o.confirmPassword&&c.jsx("p",{className:"text-sm text-red-500",children:o.confirmPassword})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(y,{id:"terms",checked:I.agreeToTerms,onCheckedChange:e=>$(s=>d(l({},s),{agreeToTerms:e})),className:o.terms?"border-red-500":""}),c.jsxs(u,{htmlFor:"terms",className:"text-sm leading-relaxed",children:["I agree to the"," ",c.jsx(h,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})]})]}),o.terms&&c.jsx("p",{className:"text-sm text-red-500 ml-6",children:o.terms}),c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(y,{id:"privacy",checked:I.agreeToPrivacy,onCheckedChange:e=>$(s=>d(l({},s),{agreeToPrivacy:e})),className:o.privacy?"border-red-500":""}),c.jsxs(u,{htmlFor:"privacy",className:"text-sm leading-relaxed",children:["I agree to the"," ",c.jsx(h,{to:"/cookies",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),o.privacy&&c.jsx("p",{className:"text-sm text-red-500 ml-6",children:o.privacy})]}),c.jsx(x,{type:"submit",className:"w-full",disabled:t,children:t?"Creating Account...":"Create Account"})]}),c.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",c.jsx(h,{to:"/login",className:"text-primary hover:underline font-medium",children:"Log in"})]})]})]}),c.jsx("div",{className:"text-center text-xs text-muted-foreground",children:c.jsxs("p",{children:["By creating an account, you agree to our"," ",c.jsx(h,{to:"/terms",className:"hover:underline",children:"Terms of Service"})," ","and"," ",c.jsx(h,{to:"/cookies",className:"hover:underline",children:"Privacy Policy"})]})})]})})};export{A as default};
